kw <- as.data.frame(read.table('~/Desktop/kw.txt', sel=':', heade=F))
kw <- as.data.frame(read.table('~/Desktop/kw.txt', sep=':', heade=F))
kw <- as.data.frame(read.table('~/Desktop/kw.txt', sep=':@', heade=F))
kw <- as.data.frame(read.table('kw.txt', sep='@', heade=F))
kw <- as.data.frame(read.table('kw.txt', sep='@', heade=F))
names(kw) <- c('file','kw')
kw$kw.sub <- ''
grep(':\S+',kw) 
grep(':\\S+',kw) 
grep(':\\S+',kw$kw) 
hassub <- grep(':\\S+',kw$kw) 
kw$kw.sub[hassub] <- kw$kw[hassub]
kw
kw$kw.sub
hassub
str(hassub)
as.vector(hassub)
hassub <- as.vector(grep(':\\S+',kw$kw))
kw$kw.sub[hassub] <- kw$kw[hassub]
kw$kw.sub
kw$kw.sub <- NA
hassub <- grep(':\\S+',kw$kw)
hassub
kw$kw[hassub]
kw$kw[hassub]
kw$kw.sub[hassub]
kw$kw.sub[hassub] <- kw$kw[hassub]
kw$kw.sub
kw$kw.sub[45]
kw$kw.sub <- NA
hassub <- grep(':\\S+',kw$kw)
kw$kw.sub[c(1,2,45)]
kw$kw.sub <- kw$kw
kw$kw.sub!grep(':\\S+',kw$kw) <- NA
kw$kw.sub[!grep(':\\S+',kw$kw)] <- NA
kw$kw.sub
kw <- as.data.frame(read.table('kw.txt', sep='@', heade=F))
names(kw) <- c('file','kw')
kw$kw.sub <- NA
kw$kw.sub <- kw$kw
kw$kw.sub[!grep(':\\S+',kw$kw)]
kw$kw.sub[!grep(':\\S+',kw$kw.sub)]
kw$kw.sub <- kw$kw
kw$kw.sub
kw$kw.sub[!grepl(':\\S+',kw$kw.sub)]
kw$kw.sub[!grepl(':\\S+',kw$kw.sub)] <- NA
kw$kw.sub
gsub('^.+"','',kw$kw.sub)
gsub('^.+"','',kw$kw.sub)
gsub('^.+:','',kw$kw.sub)
kw$kw.sub <- gsub('^.+:','',kw$kw.sub) # remove main kw
gsub(':.*$','',kw$kw)
kw$kw <- gsub(':.*$','',kw$kw) # remove sub from kw
kw
str(kw)
kw$kw <- as.factor(kw$kw)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-84496", print.eval=TRUE)
kw$ref <- kw$file
kw$ref <- gsub('(^.*), (\\d\\d\\d\\d)', '\1 (\2)', kw$file)
kw$ref
kw$ref <- gsub('^(.*), (\\d\\d\\d\\d)'.*$, '\1 (\2)', kw$file)
kw$ref <- gsub('^(.*), (\\d\\d\\d\\d).*$', '\1 (\2)', kw$file)
kw$ref
kw$ref <- gsub('^(.*), (\\d+).*$', '\1 (\2)', kw$file)
kw$ref
kw$file
kw$ref <- gsub('^(.*), (\\d+).*$', '\1 (\2)', as.character(kw$file))
kw$ref
kw$ref <- gsub('^(.*), (.+).*$', '\1 (\2)', kw$file)
kw$ref
kw$ref <- gsub('^(.*), (.+).*$', '\\1 (\\2)', kw$file)
kw$ref
kw$ref <- gsub('^(.*), (\\d\\d\\d+).*$', '\\1 (\\2)', kw$file)
kw$ref
kw$ref[1]
kw$ref <- gsub('^(.*), (\\d\\d\\d+).*$', '\\1 (\\2)', kw$file)
library(ggplot)
library(ggplot2)
install.packages('venneuler')
library(venneuler)
install.packages('venneuler')
install.packages('rJava')
install.packages('venneuler')
table(kw$kw)
kw$file[kw$file=='Keywords.md']
kw[kw$file=='Keywords.md',]
kw <- kw[kw$file!='Keywords.md',]
nrow(kw)
kw <- kw[kw$file!='Keywords.md',]
table(kw$kw)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-84496", print.eval=TRUE)
kw <- as.data.frame(read.table('kw.txt', sep='@', heade=F))
names(kw) <- c('file','kw')
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-84496", print.eval=TRUE)
kw$kw <- as.factor(kw$kw)
kw$kw.sub <- as.factor(kw$kw.sub)
kw$ref <- gsub('^(.*), (\\d\\d\\d+).*$', '\\1 (\\2)', kw$file)
kw <- kw[kw$file!='Keywords.md',]
table(kw$kw)
kw <- droplevels(kw)
table(kw$kw)
sort(table(kw$kw))
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-84496", print.eval=TRUE)
sort(table(kw$kw))
system("grep -E '^@\S*' ~/jobb/readingnotes/Keywords.md > kw.txt")
lines <- readLines('~/jobb/readingnotes/Keywords.md')
lines
q()
head(kw)
nodes <- as.data.frame(node=unique(kw$ref))
nodes <- as.data.frame(unique(kw$ref))
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes$type <- 'ref'
names(nodes) <- 'node'
q()
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
V(net)$type
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
V(net)$color
V(net)$type
colrs[V(net)$type]
colrs <- c("gray50", "tomato")
colrs[V(net)$type]
colrs <- c("red", "blue")
colrs[V(net)$type]
V(net)$type
colrs[V(net)$type]
V(net)$color
colrs
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
plot(net, vertex.size=1, vertex.label.cex=1, vertex.label.degree=0, layout=layout_on_sphere)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes$type <- as.factor(nodes$type)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
V(net)$type
str(V(net))
str(V(net)$type)
V(net)$type <- as.factor(V(net)$type)
V(net)$type
str(V(net))
colrs <- c("red", "blue")
V(net)$color <- colrs[V(net)$type]
colrs[V(net)$type]
nodes
net <- graph_from_data_frame(d=edges, vertices=nodes, directed=F) 
str(net)
summary(net)
V(net)$type
E(net)
str(V(net))
colrs <- c("red", "blue")
colrs[V(net)$type]
str(V(net)$type)
as.factor(nodes$type)
nodes$type <- as.factor(nodes$type)
nodes$type
edges <- cbind(kw[,c('ref','kw')])
summary(net)
str(V(net)$type)
E(net)
colrs <- c("red", "blue")
get.vertex.attribute(net,type)
get.vertex.attribute(net,'type')
library(ggnet2)
library(ggnet)
library(GGally)
ggnet2(net)
nodes.kw
as.data.frame(y=1:nrow(nodes.kw))
as.data.frame('y'=1:nrow(nodes.kw))
kwcoords <- cbind(rep(1,nrow(nodes.kw)),1:nrow(nodes.kw))
kwcoords
refcoords <- cbind(rep(2,nrow(nodes.ref)),1:nrow(nodes.refkw))
refcoords <- cbind(rep(2,nrow(nodes.ref)),1:nrow(nodes.refkw))
refcoords <- cbind(rep(2,nrow(nodes.ref)),1:nrow(nodes.kw))
refcoords <- cbind(rep(2,nrow(nodes.ref)), 1:nrow(nodes.kw))
kwcoords  <- cbind(rep(1,nrow(nodes.kw)),  1:nrow(nodes.kw))
refcoords <- cbind(rep(2,nrow(nodes.ref)), 1:nrow(nodes.ref))
l <- rbind(refcoords,kwcoords)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nrow(kwcoords)/nrow(refcoords)
nrow(refcoords)/nrow(kwcoords)
 kwcoords$V2 <- kwcoords$V2*(nrow(refcoords)/nrow(kwcoords))
kwcoords$V2*(nrow(refcoords)/nrow(kwcoords))
 spreadfactor <- nrow(refcoords)/nrow(kwcoords)
kwcoords$V2*spread
kwcoords$V2
kwcoords$V2
kwcoords
kwcoords[,2]
 kwcoords[,2] <- kwcoords[,2]*spread
 spreadfactor <- nrow(refcoords)/nrow(kwcoords)
 kwcoords[,2] <- kwcoords[,2]*spread
 kwcoords[,2] <- kwcoords[,2]*spreadfactor
l <- rbind(refcoords,kwcoords)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
spreadfactor
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
l <- rbind(refcoords,kwcoords)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
help(ifraph)
help(igraph)
help(igraph.plotting)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes <- rbind(nodes.ref,nodes.kw)
nodes
 writeLines(nodes)
 write.table(nodes)
 write.table(nodes[,2:3])
nodes[,2:3]
 write.table(nodes, row.names=F)
 write.table(nodes, row.names=F, sep='}{')
 write.table(nodes, row.names=F, quote=F, sep='}{')
 n <- write.table(nodes, row.names=F, quote=F, sep='}{')
 gsub('^','\\putode',n)
 help(gsub)
 gsub('^','\\\\putnode',n)
 n <- writeLines(write.table(nodes, row.names=F, quote=F, sep='}{'))
n
 n <- write.table(nodes, row.names=F, quote=F, sep='}{')
n
 n <- write.table(nodes, row.names=F, quote=F, sep='}{')
n
write.table(nodes, row.names=F, quote=F, sep='}{')
 n <- write.table(nodes)
n
 nodes.tikz <- nodes
nodes.tiz$node
 nodes.tikz <- nodes
 nodes.tiz$node
 nodes.tikz$node
 nodes.tikz$node <- gsub('^','\\\\putnode',nodes.tikz$nodes)
 nodes.tikz$node <- gsub('^','\\putnode',nodes.tikz$nodes)
 nodes.tikz$node <- gsub('^','\\putnode',nodes.tikz$node)
nodes.tikz$node
 nodes.tikz$node <- gsub('^','\\\\putnode',nodes.tikz$node)
 nodes.tikz <- nodes
 nodes.tikz$node <- gsub('^','\\\\putnode',nodes.tikz$node)
nodes.tikz$node
 nodes.tikz <- nodes
 nodes.tikz$type <- gsub('^','}',nodes.tikz$type)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes.tikz
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes.tikz
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes.tikz
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes.tikz
 help(write.table)
edges
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
names(edges)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
names(edges)
nodes.tikz <- nodes
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
help(write.table)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes.tikz <- nodes
nodes.tikz$node <- gsub('^','\\\\putnode{',nodes.tikz$node)
nodes.tikz$node
nodes.tikz$node <- gsub('$','}',nodes.tikz$node)
nodes.tikz$node
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
edges.tikz$ref <- gsub('^','\\\\putedge{',edges.tikz$ref)
edges.tikz$ref
edges.tikz <- edges
edges.tikz$ref <- gsub('^','\\\\putedge{',edges.tikz$ref)
edges.tikz$ref
edges.tikz$kw <- gsub('$','}',edges.tikz$kw)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
write.table(edges.tikz, row.names=F, col.names=F quote=F, sep='}{', file='edges.tikz')
write.table(edges.tikz, row.names=F, col.names=F, quote=F, sep='}{', file='edges.tikz')
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
nodes.tikz$type
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
refs.tikz <- nodes[node$type=='ref',]
refs.tikz <- nodes[nodes$type=='ref',]
row.name(refs.tikz)
rowname(refs.tikz)
refs.tikz$nr <- paste0('\\ref{',1:nrow(refs.tikz))
refs.tikz$nr
refs.tikz$node <- gsub('$','}',ref.tikz$node)
refs.tikz$node <- gsub('$','}',refs.tikz$node)
refs.tikz
refs.tikz <- nodes[nodes$type=='ref',1]
refs.tikz$nr <- paste0('\\ref{',1:nrow(refs.tikz))
refs.tikz <- nodes[nodes$type=='ref',1]
refs.tikz
refs.tikz$nr <- paste0('\\ref{',1:nrow(refs.tikz))
refs.tikz <- nodes[nodes$type=='ref',1]
nrow(refs.tikz)
refs.tikz <- nodes[nodes$type=='ref',]
refs.tikz$nr <- paste0('\\ref{',1:nrow(refs.tikz))
refs.tikz$node <- gsub('$','}',refs.tikz$node)
refs.tikz
refs.tikz <- refs.tikz[,c('nr','node')]
refs.tikz
write.table(refs.tikz, row.names=F, col.names=F, quote=F, sep='}{', file='nodes.ref.tikz')
nodes$id <- 1:nrow(nodes)
refs.tikz <- refs.tikz[,c('nr','id','node')]
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
refs.tikz
write.table(refs.tikz, row.names=F, col.names=F, quote=F, sep='}{', file='nodes.ref.tikz')
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
write.table(kws.tikz, row.names=F, col.names=F, quote=F, sep='}{', file='nodes.kw.tikz')
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
base::source("/var/folders/v_/0cr9yf195t77dh70d7p69ff80000gq/T/Nvim-R-xhalaa/Rsource-69062", print.eval=TRUE)
edges
?match
edges.tikz <- edges
merge(edges.tikz, refs.tikz)
nodes.tem- <- nodes[nodes$type=='ref',]
nodes.tem <- nodes[nodes$type=='ref',]
kws.tikz
nodes
edges
names(edges)
names(edges)
merge(nodes, edges, by='ref')
nodes
merge(nodes, edges, by='node')
merge(nodes, edges, by.x='node', by.y='ref')
test <- merge(nodes, edges, by.x='node', by.y='ref')
head(test)
str(test)
test <- merge(test, edges, by.x='node', by.y='kw')
test
test <- merge(nodes, edges, by.x='node', by.y='ref')
test <- merge(test, edges, by.x='kw', by.y='kw')
test <- merge(nodes, edges, by.x='node', by.y='ref')
test$id.from <- test$id
test <- merge(test, edges, by.x='kw', by.y='kw')
test <- merge(nodes, edges, by.x='node', by.y='ref')
test$id.from <- test$id
q()
